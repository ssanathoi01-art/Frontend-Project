<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>

<body class="bg-gray-200">


    <nav class="flex py-4 px-3 justify-evenly sticky top-0 z-20 items-center
     bg-gradient-to-br from-[#544f4f] via-[#0f1111] to-[#b2b2d5] text-white">
      
        <a href="Shopping.html" class="font-semibold  text-3xl max-sm:text-xl hover:underlinen hover:underline decoration-[#373737]">HOME</a>

        <div class="hidden max-[350px]:block hover:scale-110"><i class="fa-solid fa-arrow-right-to-bracket"></i></div>
        <button class="font-semibold max-[350px]:hidden text-2xl max-sm:text-lg hover:underline mx-10 decoration-[#373737]"
            onclick="loggedIn('login')">Login</button>
       
        <div class="max-md:hidden flex justify-between w-full ">
        <button class="font-semibold ml-30 text-2xl hover:underlinen hover:underline decoration-[#373737]"
            onclick="navigate('upload')">Upload</button>
        <button class="font-semibold text-2xl hover:underline  decoration-[#373737]"
            onclick="navigate('list')">Products</button>
        <button class="text-xl font-bold " onclick="logout()">Logout</button>

        </div>

        <div onclick="OpenClose()" class="text-xl max-sm:text-lg text-center cursor-pointer max-md:block hidden p-2">
           üè¨ Sellers
        </div>
        

        <aside id="sidebar" class="text-white bg-orange-400 h-60 grid fixed top-14
           -left-60 px-2
          rounded-lg  duration-300 ease-in-out">

         <button class="font-semibold text-2xl hover:cursor-pointer hover:underlinen hover:underline decoration-[#373737]"
            onclick="navigate('upload')">Upload</button>
        <button class="font-semibold text-2xl hover:cursor-pointer  hover:underline  decoration-[#373737]"
            onclick="navigate('list')">Products</button>
        <button class="hover:cursor-pointer text-xl font-bold" onclick="logout()"><i class="fa-solid fa-arrow-right-from-bracket rotate-180 mr-3 hover:scale-105 text-green-400"></i>  Logout</button>

        </aside>
        
    </nav>


<!-- üõí Customer -->


    <!-- <section id="content" class="max-w-90"> -->
    <section id="content" class="flex-wrap p-15 w-full min-h-1/2 
   
    ">
    </section>


    <!-- <section id="container"></section> -->


    <!-- <form id="overview" > -->
    <!-- <input type="text" 
        placeholder="Image URL-1"
        id="image"
        >
        <input
        type="text"
        id="name"
        class=""
        required
        placeholder="ProductName"

       />
    <form >
        <input
        type="text"
        id="Price"
        name="Price"
        class=""
        required
        placeholder=""

       />
       
       <input
        type="text"
        id="description"
        placeholder=""
        required
        > -->

    <!-- </form> -->
    <!-- </section> -->

    <!-- <div id="content"> -->

    <!-- <h2>Upload Product</h2>

      <input type="text" id="name" placeholder="Product Name">
      <input type="number" id="price" placeholder="Price">
      <input type="file" id="image">
      <p id="fileName">No file chosen</p>

      <button id="uploadBtn">Upload</button>
      <p id="message"></p> -->
    <!-- </div> -->

    <!-- <div id="listed"></div> -->




    <script>



        const arr = [];

        // let isLoggedIn = false;
        let isLoggedIn = localStorage.getItem("auth") === "true";
        function navigate(page) {

            if (!isLoggedIn) {
                alert("Please login first!");
                loggedIn("login");
                return;
            }

            //   new one    //

            const content = document.getElementById("content")


            if (page === "upload") {
                content.innerHTML = `
            <div class="bg-orange-300 rounded-lg shadow-lg shadow-gray-300 max-w-80 mx-auto">
         <form onsubmit="Submission(event)" class="flex mb-10 flex-col gap-3 mt-5 p-3">


                      <!-- Thumbnail -->
                <input 
                    type="text" 
                    id="thumbnail" 
                    name="thumbnail"
                    placeholder="Thumbnail Image URL"
                    class="hover:text-white border-green-300 border rounded-full hover:bg-transparent
                     font-semibold px-3 bg-gray-200 w-full p-2"
                />
    
                        <!-- Product Title -->
                <input 
                    type="text" 
                    id="title" 
                    name="title"
                    placeholder="Product Title"
                    class="hover:text-white border-green-300 border rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                    required
                />

                <!-- Category -->
                <input 
                    type="text" 
                    id="category" 
                    name="category"
                    placeholder="Category"
                    class="hover:text-white border-green-300  border rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                    required
                />

                <!-- MRP -->
                <input 
                    type="number" 
                    id="mrp" 
                    name="mrp"
                    placeholder="Maximum Retail Price (MRP)"
                    class="hover:text-white border-green-300 border rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                    required
                />

                <!-- Discount -->
                <input 
                    type="number" 
                    id="discount" 
                    name="discount"
                    placeholder="Discount Percentage (%)"
                    class="hover:text-white border-green-300 border rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                    required
                />

                <!-- Rating -->
                <input 
                    type="number" 
                    id="rating" 
                    name="rating"
                    step="0.1"
                    placeholder="Average Rating (e.g. 4.5)"
                    class="hover:text-white border border-green-300 rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                />

                <!-- Country -->
                <input 
                    type="text" 
                    id="country" 
                    name="country"
                    placeholder="Country of Origin"
                    class="hover:text-white border border-green-300 rounded-full hover:bg-transparent font-semibold px-3 bg-gray-200 w-full p-2"
                />

              

                <!-- Variant 1 -->

                <section class="flex gap-5 mt-5">
                <input 
                    type="text" 
                    id="color1" 
                    name="color1"
                    placeholder="Variant 1 Color (e.g. White)"
                    class="hover:text-white text-sm border-green-300 border rounded-lg hover:bg-transparent font-bold px-3 bg-gray-200 w-full p-2"
                />

                <input 
                    type="number" 
                    id="stock1" 
                    name="stock1"
                    placeholder="Variant 1 Available Stock"
                    class="hover:text-sm border-green-300 border rounded-lg hover:bg-transparent font-bold px-3 bg-gray-200 w-full p-2"
                />
                </section>

                <!-- Variant 2 -->
                  <section class="flex gap-5 ">
                <input 
                    type="text" 
                    id="color2" 
                    name="color2"
                    placeholder="Variant 2 Color (e.g. Red)"
                    class="hover:text-white border-green-300 border rounded-lg hover:bg-transparent font-bold px-3 bg-gray-200 w-full p-2"
                />

                <input 
                    type="number" 
                    id="stock2" 
                    name="stock2"
                    placeholder="Variant 2 Available Stock"
                    class="hover:text-white text-sm border-green-300 border rounded-lg hover:bg-transparent font-bold px-3 bg-gray-200 w-full p-2"
                />

                </section>

                <!-- Description -->
                <textarea 
                    id="description"
                    name="description" 
                    class="text-sm rounded-sm border-4 border-violet-300 bg-gray-200 h-30 w-full p-2" 
                    placeholder="Product Description Not more then 20 words!" 
                    required
                    ></textarea>

                <div class="flex justify-center">
                <button
               class="cursor-pointer hover:bg-blue-400 py-2 active:bg-orange-400 text-white bg-pink-400 w-20 rounded-lg " type="submit">Submit</button>
        </div>
            </form>

            </div>
        
            `;




            }


            else if (page === "list") {
                renderProducts();
            }



        }



        //    const arr=[]
        function Submission(e) {

            e.preventDefault();

            // const imageInput=e.target.image.value;
            const thumbnailInput = e.target.thumbnail.value;
            const productTitleInput = e.target.title.value;
            const categoryInput = e.target.category.value;
            const mrpInput = e.target.mrp.value;
            const discountInput = e.target.discount.value;
            const ratingInput = e.target.rating.value;
            const countryInput = e.target.country.value;
            const color1Input = e.target.color1.value;
            const stock1Input = e.target.stock1.value;
            const color2Input = e.target.color2.value;
            const stock2Input = e.target.stock2.value;
            const descriptionInput = e.target.description.value;
            // console.log(imageInput);
            // console.log(imageInput);
            // console.log(nameInput);
            // console.log(priceInput);
            console.log(descriptionInput);



            arr.unshift({
                thumbnailInput,
                productTitleInput,
                categoryInput,
                mrpInput,
                discountInput,
                ratingInput,
                countryInput,
                descriptionInput,
                variants: [
                    { colorName: color1Input, availableStock: stock1Input },
                    { colorName: color2Input, availableStock: stock2Input }
                ]
            });



            // }
            e.target.reset();

            alert("Product Added ‚úÖ");
            // renderProducts()

        }

        function renderProducts() {

            const content = document.getElementById("content");

            // if(page === "list"){
            content.innerHTML = "";

            for (let i = 0; i < arr.length; i++) {


    let mrp = Number(arr[i].mrpInput);
    let discount = Number(arr[i].discountInput);
    let finalPrice = mrp - (mrp * discount / 100);

                content.innerHTML += `
        
     
         <div class="shadow-md h-[580px] 
         hover:scale-110 inline-block align-top 
         shadow-slate-300 m-10 ml-5 rounded-[6px]
         py-2 px-2 bg-gray-400 my-2 w-60 break-words hover:bg-gray-500 
          ">

          <div class="shadow-sm shadow-green-400 overflow-hidden w-full rounded-lg">
          <img src="${arr[i].thumbnailInput}" alt=""
          class="hover:scale-110 w-full h-40 rounded-[5px]"
          >
          </div>

          <div class="mt-5 px-6 flex space-y-2 flex-col ">
            <h1 class="text-2xl font-bold
             text-center drop-shadow drop-shadow-[#eabc3a] 
             text-orange-700">${arr[i].productTitleInput}</h1>
            <h1 class="font-semibold">Category:${arr[i].categoryInput}</h1>

            <p class="text-lg">
           <span class="line-through text-gray-300">‚Çπ${mrp}</span>
           <span class="text-green-500 font-bold ml-2">‚Çπ${finalPrice}</span>
        </p>

            <div class="flex justify-between">
            <h1 class="text-sm class="text-red-300 font-bold"">${discount}% OFF</h1>
            <h1 class="text-sm text-yellow-300">‚≠ê${arr[i].ratingInput}</h1>
            </div>
            <h1 class="font-semibold">Country:${arr[i].countryInput}üåç</h1>

            <div class="flex justify-between text-lg font-serif mt-2">
            <h1>üé®${arr[i].variants[0].colorName}</h1>
            <h1>Stock:${arr[i].variants[0].availableStock}‚úÖ </h1>
            </div>

           <div class="flex justify-between text-lg font-serif mb-2">
            <h1>üé®${arr[i].variants[1].colorName}</h1>
            <h1>Stock:${arr[i].variants[1].availableStock}‚úÖ </h1>
            </div>
            </div>

            <h1 class="bg-pink-300 text-white p-3 mt-3 rounded-lg w-full ">
                ${arr[i].descriptionInput}
            </h1>

            </div>
      
        `;
            }
        }

        //navigate("upload");
        // login();




        function loggedIn(page) {
            const content = document.getElementById("content");

            if (page === "login") {
                content.innerHTML = `
      <div class="border border-green-400 rounded-lg  bg-gray-200 p-10 mt-7 flex max-w-80 mx-auto flex-col">
            <h1 class="hover:underline text-center text-3xl font-bold mb-10" >Login Page</h1>
            <input class="text-lg font-semibold bg-blue-200 rounded-full pl-3 hover:bg-transparent border border-blue-500"  type="text" id="username" placeholder="Username"><br><br>
            <input class="text-lg font-semibold bg-blue-200 rounded-full pl-3 hover:bg-transparent border border-blue-500  type="password" id="password" placeholder="Password"><br><br>

            <div class="flex justify-center ">
            <button class="cursor-pointer hover:bg-blue-400 py-2 active:bg-orange-400 text-white bg-pink-400 w-20 rounded-lg " onclick="login()">Login</button>
            </div>

     </div>

        `;
            }
        }


        //   onclick function for login    //

        function login() {
            const user = document.getElementById("username").value;
            const pass = document.getElementById("password").value;

            // let isLoggedIn = false;
            if (user === "admin" && pass === "12345") {
                // document.getElementById("loginMessage").innerText = "Login Successful!";
                isLoggedIn = true;
                localStorage.setItem("auth", "true");
                alert("login Successfully");
                navigate("upload");
            } else {
                // document.getElementById("loginMessage").innerText = "Invalid Credentials";
                alert("wrong password! try again!")
            }
        }


        function logout() {
            isLoggedIn = false;
            localStorage.removeItem("auth"); // <-- IMPORTANT
            loggedIn("login");
        }


        //toggle//

        function OpenClose() {
            const sidebar = document.getElementById("sidebar")

            sidebar.classList.toggle("left-2")
        }


        if (isLoggedIn) {
            navigate("upload");
        } else {
            loggedIn("login");
        }
        //navigate("upload");
        //loggedIn('login');




 //let isLoggedIn =  false;
//         function updateNavbar() {
//    const nav = document.getElementById("navButtons");

//    if (isLoggedIn) {
//       nav.innerHTML = `
//          <button onclick="navigate('home')">Home</button>
//          <button onclick="navigate('list')">Products</button>
//          <button onclick="navigate('upload')">Upload</button>
//          <button onclick="logout()">Logout</button>
//       `;
//    } else {
//       nav.innerHTML = `
//          <button onclick="navigate('home')">Home</button>
//          <button onclick="navigate('list')">Products</button>
//          <button onclick="loggedIn('login')">Login</button>
//       `;
//    }
// }

// updateNavbar();

    </script>

</body>

</html>
